# json-struct

[![Build](https://github.com/naotsugu/json-struct/actions/workflows/gradle-build.yml/badge.svg)](https://github.com/naotsugu/jpa-fluent-query/actions/workflows/gradle-build.yml)

Under development.

## What is this

json-struct provides a standard binding layer between Java classes and JSON documents.

Annotation processor resolves bindings at build time.

No reflection is used, resulting in fast operation.


## Usage

Annotate the model with `@JsonStruct`.

```java
@JsonStruct
public record Person(FullName fullName, int age) {
}
```

```java
var json = Json.of(Person.class);
var person = json.from("""
  {
    "fullName": { "givenName": "Bob", "familyName": "Dylan"}
    "age": 81
  }
  """);
assertEquals("Bob", person.fullName().givenName());
```


The code generated by the annotation processor looks like this

```java
@Override
public Person from(Reader reader) {
    var json = Parser.of(reader).parse();
    return new Person(
        new FullName(
            json.as("/fullName/givenName", convert.to(String.class)),
            json.as("/fullName/familyName", convert.to(String.class))),
        json.as("/age", convert.to(int.class)));
}
```

